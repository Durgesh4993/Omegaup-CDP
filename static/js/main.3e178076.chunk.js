(this["webpackJsonpomegaup-problem-creator"]=this["webpackJsonpomegaup-problem-creator"]||[]).push([[0],{147:function(e,t,n){"use strict";n.r(t);var c=n(178),r=n(1),s=n(46),i=n.n(s),a=n(184),o=n(81),j=n(20),l=n(162),u=n(163),d=n(164),b=n(191),O=n(165),x=n(187),m=n(78),h=n(108),p=n(125),f=n(159),g=n(91),v=n(2),C=function(e){var t=Object(p.c)().toggleColorMode,n=Object(p.d)("dark","light"),c=Object(p.d)(g.a,g.b);return Object(v.jsx)(f.a,Object(h.a)({size:"md",fontSize:"lg",variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(v.jsx)(c,{}),"aria-label":"Switch to ".concat(n," mode")},e))},S=function(){return Object(v.jsx)(l.a,{boxShadow:"md",children:Object(v.jsx)(u.a,{maxW:"container.lg",children:Object(v.jsxs)(d.a,{align:"center",height:"38px",children:[Object(v.jsx)(l.a,{w:"86px",children:Object(v.jsx)(b.a,{w:"full",src:"https://omegaup.com/preguntas//omegaup_curves.png"})}),Object(v.jsx)(O.a,{}),Object(v.jsx)(l.a,{mr:5,children:Object(v.jsx)(C,{})}),Object(v.jsx)(l.a,{children:Object(v.jsx)(x.a,{label:"Colabora con nosotros en Github!","aria-label":"Colabora",children:Object(v.jsx)("span",{children:Object(v.jsx)(m.b,{size:25})})})})]})})})},N=n(5),D=n(166),z=n(188),y=n(183),E=n(122),G=n(169),P=n(44);function w(e){var t=100,n=0;e.forEach((function(e){"Sin Grupo"===e.name?e.cases.forEach((function(e){e.defined?t-=e.points?e.points:0:n++})):e.defined?t-=e.points?e.points:0:n++}));var c=t/n;return e=e.map((function(e){return"Sin Grupo"===e.name&&(e.cases=e.cases.map((function(e){return e.defined||(e.points=c),e}))),e.defined||(e.points=c),e}))}var k={title:{titleName:"Nuevo Problema",setTitleName:Object(j.b)((function(e,t){e.titleName=t}))},cases:{data:[{name:"Sin Grupo",cases:[],defined:!1,points:null}],selected:{name:"none",group:"none"},addGroup:Object(j.b)((function(e,t){e.data.push(t),e.data=w(e.data)})),editGroup:Object(j.b)((function(e,t){e.data.map((function(e){return e.name===t.name&&(e=t),e})),e.data=w(e.data)})),removeGroup:Object(j.b)((function(e,t){e.data=e.data.filter((function(e){return e.name!==t})),e.data=w(e.data)})),addCase:Object(j.b)((function(e,t){e.data.map((function(e){return e.name===t.group&&e.cases.push(t),e})),e.data=w(e.data)})),editCase:Object(j.b)((function(e,t){e.data.map((function(e){return e.name===t.group&&e.cases.map((function(e){return e.name===t.name&&(e=t),e})),e})),e.data=w(e.data)})),removeCase:Object(j.b)((function(e,t){e.data.map((function(e){return e.name===t.group&&(e.cases=e.cases.filter((function(e){return e.name!==t.name&&e.group!==t.group}))),e})),e.data=w(e.data)})),setSelected:Object(j.b)((function(e,t){e.selected=t}))}},R=Object(j.c)(Object(j.e)(k)),F=Object(j.d)(),W=F.useStoreActions,B=(F.useStoreDispatch,F.useStoreState),L=function(){var e=B((function(e){return e.title.titleName})),t=W((function(e){return e.title.setTitleName})),n=Object(r.useState)(!1),c=Object(N.a)(n,2),s=c[0],i=c[1],a=Object(D.a)(),o=a.isOpen,j=a.onOpen,d=a.onClose,b=Object(r.useRef)(null);return Object(v.jsx)(u.a,{maxW:"container.lg",children:Object(v.jsx)(l.a,{mt:"5",children:Object(v.jsxs)(z.a,{children:[Object(v.jsxs)(y.a,{defaultValue:e,fontSize:"xl",fontWeight:"bold",placeholder:"Escribe el nombre del problema",onEdit:function(){return i(!0)},onSubmit:function(e){return n=e,i(!1),t(n),void console.log(n);var n},onCancel:function(){return i(!1)},width:s?"50%":void 0,children:[Object(v.jsx)(y.c,{}),Object(v.jsx)(y.b,{})]}),Object(v.jsx)("span",{children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(O.a,{}),Object(v.jsx)(E.a,{size:"sm",children:" Cargar Problema "}),Object(v.jsx)(E.a,{size:"sm",colorScheme:"blue",children:"Guardar Problema"}),Object(v.jsx)(E.a,{size:"sm",colorScheme:"orange",onClick:j,children:"Nuevo Problema"}),Object(v.jsxs)(G.a,{leastDestructiveRef:b,onClose:d,isOpen:o,isCentered:!0,children:[Object(v.jsx)(P.g,{}),Object(v.jsxs)(G.b,{children:[Object(v.jsx)(P.f,{children:"Crear nuevo problema"}),Object(v.jsx)(P.b,{children:"\xbfDeseas crear un nuevo problema? Se borrar\xe1 TODO el problema anterior. Guarda el problema primero antes de crear uno nuevo."}),Object(v.jsxs)(P.e,{children:[Object(v.jsx)(E.a,{ref:b,onClick:d,children:"No"}),Object(v.jsx)(E.a,{colorScheme:"red",ml:3,onClick:function(){return sessionStorage.clear(),void window.location.reload()},children:"S\xed"})]})]})]})]})})})},A=n(193),T=n(117),V=n(119),M=n(118),q=n(177),I=n(176),J=n(179),_=n(171),X=n(186),H=n(116),K=n(80),Q=function(e){var t=e.groupName,n=e.caseName,c=e.pointsDefined,r=e.points,s=e.shouldShowPoints,i=W((function(e){return e.cases.setSelected})),a=B((function(e){return e.cases.selected}));return Object(v.jsx)(E.a,{variant:"ghost",size:"sm",onClick:function(){i({name:n,group:t})},isActive:(null===a||void 0===a?void 0:a.name)===n&&a.group===t,children:Object(v.jsxs)(z.a,{children:[Object(v.jsx)("span",{children:n}),s&&Object(v.jsx)(_.a,{colorScheme:c?"green":"blue",children:r.toFixed(2)+" PTS"})]})})},U=n(181),Y=n(64),Z=n(172),$=n(173),ee=n(174),te=n(182),ne=n(185),ce=function(e){var t=e.onClose,n=e.initial,c=e.submitButton,s=Object(r.useState)(!(null===n||void 0===n?void 0:n.pointsDefined)||(null===n||void 0===n?void 0:n.pointsDefined)),i=Object(N.a)(s,2),a=i[0],o=i[1],j=Object(r.useRef)(n?n.caseName:null),l=Object(r.useRef)(n?n.groupName:null),u=Object(r.useRef)(n?n.points:50),d=Object(r.useRef)(!!n&&n.pointsDefined),b=W((function(e){return e.cases.addCase})),O=B((function(e){return e.cases.data})),x=Object(U.a)();return Object(v.jsxs)("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),null===l.current&&(l.current="Sin Grupo"),null!==j&&""!==j.current){var n=!0;O.forEach((function(e){e.name===l.current&&e.cases.forEach((function(e){e.name!==j.current||(n=!1)}))})),n?(b({name:j.current,group:l.current,points:u.current,defined:d.current,ioData:{}}),t()):x({title:"Error al crear caso",description:"No puedes tener casos con el mismo nombre en un mismo grupo",status:"error",isClosable:!0})}else x({title:"Por favor ingresa los datos",description:"No puedes dejar campos vacios",status:"error",isClosable:!0})}(e)},children:[Object(v.jsxs)(Y.a,{mt:3,isRequired:!0,children:[Object(v.jsx)(Z.a,{children:" Nombre del caso"}),Object(v.jsx)($.a,{onChange:function(e){return j.current=e.target.value},defaultValue:null===n||void 0===n?void 0:n.caseName})]}),Object(v.jsxs)(Y.a,{mt:5,isRequired:!0,children:[Object(v.jsx)(Z.a,{children:" Nombre del grupo"}),Object(v.jsx)(ee.a,{onChange:function(e){return l.current=e.target.value},defaultValue:null===n||void 0===n?void 0:n.groupName,children:O.map((function(e){return Object(v.jsx)("option",{value:e.name?e.name:void 0,children:e.name},e.name)}))})]}),Object(v.jsxs)(Y.a,{mt:5,children:[Object(v.jsx)(Z.a,{children:" Puntaje "}),Object(v.jsxs)(te.c,{onChange:function(e,t){return u.current=t},defaultValue:null===n||void 0===n?void 0:n.points,min:0,max:100,isDisabled:a,children:[Object(v.jsx)(te.d,{}),Object(v.jsxs)(te.e,{children:[Object(v.jsx)(te.b,{}),Object(v.jsx)(te.a,{})]})]}),a&&Object(v.jsx)(Y.b,{children:"El programa calcular\xe1 autom\xe1ticamente el puntaje"}),Object(v.jsx)(ne.a,{mt:3,isChecked:a,onChange:function(){o(!a),d.current=a},children:"Puntaje autom\xe1tico"})]}),Object(v.jsx)(E.a,{colorScheme:"green",isFullWidth:!0,mt:10,type:"submit",children:c})]})},re=function(e){var t=e.onClose,n=e.initial,c=e.submitButton,s=Object(r.useState)(!(null===n||void 0===n?void 0:n.pointsDefined)||!(null===n||void 0===n?void 0:n.pointsDefined)),i=Object(N.a)(s,2),a=i[0],o=i[1],j=Object(r.useRef)(n?n.groupName:null),l=Object(r.useRef)(n?n.points:50),u=Object(r.useRef)(!!n&&n.pointsDefined),d=W((function(e){return e.cases.addGroup})),b=B((function(e){return e.cases.data})),O=Object(U.a)();return Object(v.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var n=!0;b.forEach((function(e){e.name!==j.current||(n=!1)})),n?(d({name:j.current,cases:[],points:l.current,defined:u.current}),t()):O({title:"Error al crear grupo",description:"No puedes tener grupos con el mismo nombre",status:"error",isClosable:!0})}(e)},children:[Object(v.jsxs)(Y.a,{mt:3,isRequired:!0,children:[Object(v.jsx)(Z.a,{children:" Nombre del grupo"}),Object(v.jsx)($.a,{onChange:function(e){return j.current=e.target.value},defaultValue:null===n||void 0===n?void 0:n.groupName})]}),Object(v.jsxs)(Y.a,{mt:5,children:[Object(v.jsx)(Z.a,{children:" Puntaje "}),Object(v.jsxs)(te.c,{onChange:function(e,t){return l.current=t},defaultValue:null===n||void 0===n?void 0:n.points,min:0,max:100,isDisabled:a,children:[Object(v.jsx)(te.d,{}),Object(v.jsxs)(te.e,{children:[Object(v.jsx)(te.b,{}),Object(v.jsx)(te.a,{})]})]}),a&&Object(v.jsx)(Y.b,{children:"El programa calcular\xe1 autom\xe1ticamente el puntaje"}),Object(v.jsx)(ne.a,{mt:3,isChecked:a,onChange:function(){o(!a),u.current=a},children:"Puntaje autom\xe1tico"})]}),Object(v.jsx)(E.a,{colorScheme:"green",isFullWidth:!0,mt:10,type:"submit",children:c})]})},se=function(e){var t=e.type,n=e.isOpen,c=e.onClose,r=e.groupName,s=e.caseName,i=void 0===s?"":s,a=e.points,o=e.arePointsDefined;return Object(v.jsxs)(P.a,{isOpen:n,onClose:c,children:[Object(v.jsx)(P.g,{}),Object(v.jsxs)(P.d,{children:[Object(v.jsxs)(P.f,{children:[" Editar ","group"===t?"Grupo":"Caso"]}),Object(v.jsx)(P.c,{}),Object(v.jsx)(P.b,{mb:5,children:"group"===t?Object(v.jsx)(re,{onClose:c,initial:{groupName:r,points:a,pointsDefined:o},submitButton:"Editar"}):Object(v.jsx)(ce,{onClose:c,initial:{caseName:i,groupName:r,points:a,pointsDefined:o},submitButton:"Editar"})})]})]})},ie=function(e){var t=e.name,n=e.points,c=e.arePointsDefined,s=Object(r.useState)(!1),i=Object(N.a)(s,2),a=i[0],o=i[1],j=Object(p.d)("gray.200","gray.600"),u=B((function(e){return e.cases.data.find((function(e){return e.name===t}))})),b=Object(K.useMediaPredicate)("(min-width: 830px)"),m=Object(D.a)(),h=m.isOpen,g=m.onOpen,C=m.onClose;return Object(v.jsxs)(d.a,{direction:"column",children:[Object(v.jsxs)(l.a,{my:2,children:[Object(v.jsxs)(z.a,{mb:2,cursor:"pointer",transition:"padding-left 0.1s",_hover:{borderLeft:"2px",borderColor:"".concat(j),paddingLeft:"5px"},onClick:function(e){return function(e){100*(e.pageX-e.currentTarget.offsetLeft)/e.currentTarget.clientWidth<80&&o(!a)}(e)},children:[Object(v.jsx)(l.a,{children:"mainGroup"===t?"Sin Grupo":t}),Object(v.jsx)(O.a,{}),"Sin Grupo"!==t&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(x.a,{label:"Estos ser\xe1n los puntos que obtendr\xe1 el usuario si resuelve correctamente el grupo",children:Object(v.jsx)(_.a,{colorScheme:c?"green":"blue",size:"sm",children:b?Object(v.jsxs)("span",{children:[" ",parseFloat(""+n).toFixed(2)+" pts"]}):Object(v.jsxs)("span",{children:[n&&Math.round(n)," "]})})}),Object(v.jsxs)(X.a,{isLazy:!0,children:[Object(v.jsx)(X.b,{as:f.a,icon:Object(v.jsx)(H.a,{}),size:"sm",syle:{zIndex:99}}),Object(v.jsxs)(X.d,{children:[Object(v.jsx)(X.c,{fontSize:"sm",onClick:g,children:"Editar Grupo"}),Object(v.jsx)(X.c,{fontSize:"sm",onClick:function(){},children:"Eliminar Grupo"})]})]}),Object(v.jsx)(se,{type:"group",isOpen:h,onClose:C,groupName:t,points:n,arePointsDefined:c})]})]}),Object(v.jsx)(I.a,{})]}),Object(v.jsx)(l.a,{ml:2,children:u&&a&&u.cases.map((function(e){return Object(v.jsx)(J.a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{display:"inline-block"},children:Object(v.jsx)(Q,{caseName:e.name?e.name:"",groupName:e.group?e.group:"",pointsDefined:e.defined,points:e.points?e.points:0,shouldShowPoints:"Sin Grupo"===e.group})},e.name&&e.group&&e.name+e.group)}))})]})},ae=function(){var e=B((function(e){return e.cases.data}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(l.a,{mt:2,children:e.map((function(e){return Object(v.jsx)(ie,{name:e.name,points:e.points,arePointsDefined:e.defined},e.name)}))})})},oe=function(e){var t=e.isOpen,n=e.onClose;return Object(v.jsxs)(P.a,{isOpen:t,onClose:n,children:[Object(v.jsx)(P.g,{}),Object(v.jsxs)(P.d,{children:[Object(v.jsx)(P.f,{children:"Agregar "}),Object(v.jsx)(P.c,{}),Object(v.jsx)(P.b,{children:Object(v.jsxs)(A.e,{size:"sm",children:[Object(v.jsxs)(A.b,{children:[Object(v.jsx)(A.a,{children:" Caso "}),Object(v.jsx)(A.a,{children:" Grupo "})]}),Object(v.jsxs)(A.d,{children:[Object(v.jsx)(A.c,{children:Object(v.jsx)(ce,{onClose:n,submitButton:"Agregar"})}),Object(v.jsx)(A.c,{children:Object(v.jsx)(re,{onClose:n,submitButton:"Agregar"})})]})]})})]})]})},je=function(){var e=Object(p.d)("gray.200","gray.600"),t=Object(D.a)(),n=t.isOpen,c=t.onOpen,r=t.onClose,s=Object(K.useMediaPredicate)("(min-width: 830px)");return Object(v.jsx)(J.a.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},children:Object(v.jsx)(l.a,{w:"100%",h:"75vh",borderRight:"1px",borderColor:e,children:Object(v.jsxs)(l.a,{width:"90%",children:[Object(v.jsxs)(d.a,{align:"center",mb:4,children:[Object(v.jsx)(q.a,{mr:5,fontSize:"xl",fontWeight:"bold",children:"Grupos"}),Object(v.jsx)(O.a,{}),Object(v.jsx)(E.a,{size:"sm",colorScheme:"green",onClick:c,children:s?Object(v.jsx)("p",{children:" Agregar"}):Object(v.jsx)("p",{children:" + "})}),Object(v.jsx)(oe,{isOpen:n,onClose:r})]}),Object(v.jsx)(I.a,{}),Object(v.jsx)(ae,{})]})})})},le=function(){var e=Object(D.a)(),t=(e.isOpen,e.onOpen),n=(e.onClose,B((function(e){return e.cases.selected})));return Object(v.jsxs)(z.a,{h:"20%",w:"100%",pl:5,children:[Object(v.jsx)(q.a,{fontWeight:"bold",fontSize:20,children:null===n||void 0===n?void 0:n.name}),Object(v.jsxs)("h2",{children:[" ",null===n||void 0===n?void 0:n.group]}),Object(v.jsx)(O.a,{}),Object(v.jsxs)(E.a,{size:"sm",onClick:t,children:[" ","Editar Caso"," "]}),Object(v.jsx)(E.a,{size:"sm",children:" Eliminar Caso "})]})},ue=function(){return Object(v.jsx)(le,{})},de=function(){return Object(v.jsxs)(d.a,{children:[Object(v.jsx)(l.a,{w:"30%",children:Object(v.jsx)(je,{})}),Object(v.jsx)(ue,{})]})},be=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(u.a,{maxW:"container.lg",mt:3,h:"80vh",padding:"0",children:Object(v.jsxs)(A.e,{variant:"enclosed",size:"sm",isLazy:!0,children:[Object(v.jsxs)(A.b,{children:[Object(v.jsx)(A.a,{children:Object(v.jsxs)(z.a,{children:[Object(v.jsx)(T.a,{}),Object(v.jsx)("p",{children:"C\xf3digo Soluci\xf3n"})]})}),Object(v.jsx)(A.a,{children:Object(v.jsxs)(z.a,{children:[Object(v.jsx)(M.a,{}),Object(v.jsx)("p",{children:"Casos de Prueba"})]})}),Object(v.jsx)(A.a,{children:Object(v.jsxs)(z.a,{children:[Object(v.jsx)(V.a,{}),Object(v.jsx)("p",{children:"Redacci\xf3n"})]})})]}),Object(v.jsxs)(A.d,{children:[Object(v.jsx)(A.c,{children:"1"}),Object(v.jsx)(A.c,{children:Object(v.jsx)(de,{})}),Object(v.jsx)(A.c,{children:"3"})]})]})})})},Oe=function(){var e=Object(j.f)();return Object(v.jsx)(a.a,{theme:o.theme,children:e?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(S,{}),Object(v.jsx)(L,{}),Object(v.jsx)(be,{})]}):Object(v.jsx)("h1",{children:" Loading "})})};i.a.render(Object(v.jsx)(r.StrictMode,{children:Object(v.jsxs)(j.a,{store:R,children:[Object(v.jsx)(c.a,{}),Object(v.jsx)(Oe,{})]})}),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.3e178076.chunk.js.map