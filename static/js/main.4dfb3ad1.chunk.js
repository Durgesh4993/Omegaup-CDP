(this["webpackJsonpomegaup-problem-creator"]=this["webpackJsonpomegaup-problem-creator"]||[]).push([[0],{153:function(e,n,t){"use strict";t.r(n);var c=t(181),s=t(1),r=t(46),a=t.n(r),o=t(186),i=t(83),j=t(26),l=t(167),b=t(168),d=t(169),u=t(193),O=t(170),p=t(189),m=t(82),h=t(39),x=t(128),f=t(164),g=t(94),C=t(3),v=function(e){var n=Object(x.c)().toggleColorMode,t=Object(x.d)("dark","light"),c=Object(x.d)(g.a,g.b);return Object(C.jsx)(f.a,Object(h.a)({size:"md",fontSize:"lg",variant:"ghost",color:"current",marginLeft:"2",onClick:n,icon:Object(C.jsx)(c,{}),"aria-label":"Switch to ".concat(t," mode")},e))},S=function(){return Object(C.jsx)(l.a,{boxShadow:"md",children:Object(C.jsx)(b.a,{maxW:"container.lg",children:Object(C.jsxs)(d.a,{align:"center",height:"38px",children:[Object(C.jsx)(l.a,{w:"86px",children:Object(C.jsx)(u.a,{w:"full",src:"https://omegaup.com/preguntas//omegaup_curves.png"})}),Object(C.jsx)(O.a,{}),Object(C.jsx)(l.a,{mr:5,children:Object(C.jsx)(v,{})}),Object(C.jsx)(l.a,{children:Object(C.jsx)(p.a,{label:"Colabora con nosotros en Github!","aria-label":"Colabora",children:Object(C.jsx)("span",{children:Object(C.jsx)(m.b,{size:25})})})})]})})})},N=t(5),D=t(171),y=t(190),P=t(185),k=t(126),w=t(174),E=t(45);function z(e){var n=100,t=0;e.forEach((function(e){"mainGroup"===e.name?e.cases.forEach((function(e){console.log(e),e.arePointsDefined?n-=e.points:t+=1})):e.pointsDefined?n-=e.points:t+=1})),console.log("group: "+t+" "+n);var c=n/t;return e.map((function(e){return"mainGroup"===e.name&&(e.cases=e.cases.map((function(e){return e.arePointsDefined||(e.points=c),e}))),e.pointsDefined||(e.points=c),e}))}var G,R={title:{titleName:"Nuevo Problema",setTitleName:Object(j.b)((function(e,n){e.titleName=n}))},cases:{cases:[{name:"mainGroup",points:0,isMain:!0,pointsDefined:!1,cases:[]}],availablePoints:100,addCase:Object(j.b)((function(e,n){var t=n.group,c=!1;console.log("searching"),e.cases.map((function(e){return e.name===t&&(e.cases.push(n),c=!0,e.cases.sort((function(e,n){return e.name<n.name?-1:e.name===n.name?0:1}))),e})),c||e.cases.push({name:t,points:0,isMain:!1,pointsDefined:!1,cases:[n]}),e.cases=z(e.cases)})),updateCase:Object(j.b)((function(e,n){e.cases.map((function(e){return e.name===n.oldName&&(e.name=n.newName,e.points=n.points,e.pointsDefined=n.pointsDefined,e.cases=e.cases.map((function(e){return e.group=n.newName,e}))),e})),e.cases=z(e.cases),e.cases.sort()})),removeCase:Object(j.b)((function(e,n){e.cases=e.cases.filter((function(e){return e.name!==n})),e.cases=z(e.cases)}))}},L=Object(j.c)(Object(j.e)(R)),M=Object(j.d)(),F=M.useStoreActions,T=(M.useStoreDispatch,M.useStoreState),W=function(){var e=T((function(e){return e.title.titleName})),n=F((function(e){return e.title.setTitleName})),t=Object(s.useState)(!1),c=Object(N.a)(t,2),r=c[0],a=c[1],o=Object(D.a)(),i=o.isOpen,j=o.onOpen,d=o.onClose,u=Object(s.useRef)(null);return Object(C.jsx)(b.a,{maxW:"container.lg",children:Object(C.jsx)(l.a,{mt:"5",children:Object(C.jsxs)(y.a,{children:[Object(C.jsxs)(P.a,{defaultValue:e,fontSize:"xl",fontWeight:"bold",placeholder:"Escribe el nombre del problema",onEdit:function(){return a(!0)},onSubmit:function(e){return t=e,a(!1),n(t),void console.log(t);var t},onCancel:function(){return a(!1)},width:r?"50%":void 0,children:[Object(C.jsx)(P.c,{}),Object(C.jsx)(P.b,{})]}),Object(C.jsx)("span",{children:Object(C.jsx)(m.a,{})}),Object(C.jsx)(O.a,{}),Object(C.jsx)(k.a,{size:"sm",children:" Cargar Problema "}),Object(C.jsx)(k.a,{size:"sm",colorScheme:"blue",children:"Guardar Problema"}),Object(C.jsx)(k.a,{size:"sm",colorScheme:"orange",onClick:j,children:"Nuevo Problema"}),Object(C.jsxs)(w.a,{leastDestructiveRef:u,onClose:d,isOpen:i,isCentered:!0,children:[Object(C.jsx)(E.g,{}),Object(C.jsxs)(w.b,{children:[Object(C.jsx)(E.f,{children:"Crear nuevo problema"}),Object(C.jsx)(E.b,{children:"\xbfDeseas crear un nuevo problema? Se borrar\xe1 TODO el problema anterior. Guarda el problema primero antes de crear uno nuevo."}),Object(C.jsxs)(E.e,{children:[Object(C.jsx)(k.a,{ref:u,onClick:d,children:"No"}),Object(C.jsx)(k.a,{colorScheme:"red",ml:3,onClick:function(){return sessionStorage.clear(),void window.location.reload()},children:"S\xed"})]})]})]})]})})})},q=t(197),A=t(121),I=t(123),B=t(122),V=t(180),J=t(179),_=t(182),X=t(184),H=t(69),K=t(176),Q=t(196),U=t(195),Y=t(88),Z=function(e){var n=e.isOpen,t=e.onClose,c=e.title,r=Object(s.useState)(!1),a=Object(N.a)(r,2),o=a[0],i=a[1],j=Object(s.useRef)(null),l=Object(Y.a)({defaultValues:{name:"",group:"",points:void 0}}),b=l.register,d=l.handleSubmit,u=l.formState.errors,O=Object(X.a)(),p=F((function(e){return e.cases.addCase})),m=T((function(e){return e.cases.cases}));return Object(C.jsxs)(E.a,{isOpen:n,onClose:t,children:[Object(C.jsx)(E.g,{}),Object(C.jsxs)(E.d,{children:[Object(C.jsx)(E.f,{children:c}),Object(C.jsx)(E.c,{}),Object(C.jsxs)("form",{onSubmit:d((function(e){var n=j.current;e.group=n?n.value:"",e.group=""===e.group?"mainGroup":e.group;var c=!1;m.forEach((function(n){n.name===e.group&&n.cases.forEach((function(n){n.name!==e.name||(c=!0)}))})),c?O({title:"Nombre repetido",description:"No puedes tener casos con el mismo nombre dentro de un grupo",status:"error"}):(console.log("points "+e.points),p({name:e.name,group:e.group,arePointsDefined:!!e.points,points:e.points?e.points:0}),O({title:"Caso creado",description:"El caso ha sido creado correctamente",status:"success"}),t())})),autoComplete:"off",children:[Object(C.jsxs)(E.b,{children:[Object(C.jsxs)(H.a,{isRequired:!0,children:[Object(C.jsx)(K.a,{children:" Nombre del caso"}),Object(C.jsx)(Q.a,Object(h.a)({},b("name",{required:!0})))]}),Object(C.jsxs)(H.a,{mt:4,children:[Object(C.jsx)(K.a,{children:" Nombre del grupo"}),Object(C.jsx)(Q.a,Object(h.a)(Object(h.a)({},b("group")),{},{onChange:function(e){""!==e.target.value?i(!0):i(!1)},ref:j}))]}),Object(C.jsxs)(H.a,{mt:4,isDisabled:o,children:[Object(C.jsx)(K.a,{children:" Puntaje del caso (opcional)"}),Object(C.jsx)(Q.a,Object(h.a)({type:"number"},b("points",{min:0,max:100}))),o&&Object(C.jsx)(H.b,{children:"No puedes asignar puntos individuales si el caso est\xe1 dentro de un grupo"}),u.points&&Object(C.jsxs)(U.a,{status:"error",mt:3,children:[Object(C.jsx)(U.c,{}),Object(C.jsx)(U.d,{mr:2,children:"Error"}),Object(C.jsx)(U.b,{children:"Ingresa un n\xfamero entre 0 y 100"})]})]})]}),Object(C.jsxs)(E.e,{children:[Object(C.jsx)(k.a,{variant:"ghost",mr:3,onClick:t,children:"Close"}),Object(C.jsx)(k.a,{colorScheme:"green",type:"submit",children:"Agregar Caso"})]})]})]})]})},$=t(116),ee=t(177),ne=t(188),te=t(117),ce=t(187),se=function(e){var n=e.isOpen,t=e.onClose,c=e.groupName,r=e.groupPoints,a=e.pointsDefined,o=Object(s.useState)(!a),i=Object(N.a)(o,2),j=i[0],l=i[1],b=Object(s.useRef)(null),d=T((function(e){return e.cases.cases})),u=F((function(e){return e.cases.updateCase})),O=Object(X.a)();var p=Object(Y.a)({defaultValues:{name:"".concat(c),points:"".concat(r)}}),m=p.register,x=p.handleSubmit;return Object(C.jsxs)(E.a,{isOpen:n,onClose:t,children:[Object(C.jsx)(E.g,{}),Object(C.jsxs)(E.d,{children:[Object(C.jsx)(E.f,{children:"Editar Grupo"}),Object(C.jsx)(E.c,{}),Object(C.jsxs)("form",{onSubmit:x((function(e){var n=b.current;e.points=n?parseInt(n.value):0;var s=!0;e.name!==c&&function(e){var n=!1;return d.forEach((function(t){t.name===e.name&&(n=!0)})),n}(e)&&(O({title:"Nombre repetido",description:"No puedes tener dos grupos con el mismo nombre",status:"error"}),s=!1),s&&(u({oldName:c,newName:e.name,points:e.points,pointsDefined:!j}),t())})),autoComplete:"off",children:[Object(C.jsxs)(E.b,{children:[Object(C.jsxs)(H.a,{isRequired:!0,children:[Object(C.jsx)(K.a,{children:" Nombre del caso"}),Object(C.jsx)(Q.a,Object(h.a)({},m("name")))]}),Object(C.jsxs)(H.a,{mt:4,isDisabled:j,children:[Object(C.jsx)(K.a,{children:" Puntaje del grupo"}),Object(C.jsx)(Q.a,Object(h.a)(Object(h.a)({type:"number"},m("points",{min:0,max:100})),{},{ref:b})),j&&Object(C.jsx)(H.b,{children:"El programa autom\xe1ticamente generar\xe1 los puntos."})]}),Object(C.jsxs)(ce.a,{mt:4,isChecked:j,onChange:function(e){return l(e.target.checked)},children:[" ","Puntaje Autom\xe1tico"," "]})]}),Object(C.jsxs)(E.e,{children:[Object(C.jsx)(k.a,{variant:"ghost",mr:3,onClick:t,children:"Close"}),Object(C.jsx)(k.a,{colorScheme:"green",type:"submit",children:"Editar Caso"})]})]})]})]})},re=function(e){var n=e.isOpen,t=e.onClose,c=e.groupName,s=F((function(e){return e.cases.removeCase})),r=Object(X.a)();return Object(C.jsxs)(E.a,{isOpen:n,onClose:t,children:[Object(C.jsx)(E.g,{}),Object(C.jsxs)(E.d,{children:[Object(C.jsx)(E.f,{children:"Borar Grupo"}),Object(C.jsx)(E.c,{}),Object(C.jsx)(E.b,{children:"\xbfEst\xe1s seguro que deseas borrar este grupo? Este cambio no se puede deshacer"}),Object(C.jsxs)(E.e,{children:[Object(C.jsx)(k.a,{variant:"ghost",mr:3,onClick:t,children:"Cerrar"}),Object(C.jsx)(k.a,{colorScheme:"red",type:"submit",onClick:function(){return s(c),r({title:"Grupo borrado",description:"El grupo ha sido borrado exitosamente",status:"success"}),void t()},children:"Borrar Grupo"})]})]})]})},ae=t(87),oe=t(118),ie=function(e){e.groupName;var n=e.caseName,t=e.pointsDefined,c=e.points,s=e.shouldShowPoints;return Object(C.jsx)(k.a,{variant:"ghost",size:"sm",children:Object(C.jsxs)(y.a,{children:[Object(C.jsx)("span",{children:n}),s&&Object(C.jsx)(ee.a,{colorScheme:t?"green":"blue",children:c.toFixed(2)+" PTS"})]})})},je=(oe.a.div(G||(G=Object($.a)(["\n  //background-color: black;\n  position: absolute;\n  width: 20%;\n  height: 30px;\n"]))),function(e){var n=e.name,t=e.points,c=e.arePointsDefined,r=Object(s.useState)(!1),a=Object(N.a)(r,2),o=a[0],i=a[1],j=Object(x.d)("gray.200","gray.600"),b=T((function(e){return e.cases.cases.find((function(e){return e.name===n}))})),u=Object(D.a)(),m=u.isOpen,h=u.onOpen,g=u.onClose,v=Object(D.a)(),S=v.isOpen,P=v.onOpen,k=v.onClose,w=Object(ae.useMediaPredicate)("(min-width: 830px)");return Object(C.jsxs)(d.a,{direction:"column",children:[Object(C.jsxs)(l.a,{my:2,children:[Object(C.jsxs)(y.a,{mb:2,cursor:"pointer",transition:"padding-left 0.1s",_hover:{borderLeft:"2px",borderColor:"".concat(j),paddingLeft:"5px"},onClick:function(e){return function(e){100*(e.pageX-e.currentTarget.offsetLeft)/e.currentTarget.clientWidth<80&&i(!o)}(e)},children:[Object(C.jsx)(l.a,{children:"mainGroup"===n?"Sin Grupo":n}),Object(C.jsx)(O.a,{}),"mainGroup"!==n&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(p.a,{label:"Estos ser\xe1n los puntos que obtendr\xe1 el usuario si resuelve correctamente el grupo",children:Object(C.jsx)(ee.a,{colorScheme:c?"green":"blue",size:"sm",children:w?Object(C.jsxs)("span",{children:[" ",parseFloat(""+t).toFixed(2)+" pts"]}):Object(C.jsxs)("span",{children:[Math.round(t)," "]})})}),Object(C.jsxs)(ne.a,{isLazy:!0,children:[Object(C.jsx)(ne.b,{as:f.a,icon:Object(C.jsx)(te.a,{}),size:"sm",syle:{zIndex:99}}),Object(C.jsxs)(ne.d,{children:[Object(C.jsx)(ne.c,{fontSize:"sm",onClick:h,children:"Editar Grupo"}),Object(C.jsx)(ne.c,{fontSize:"sm",onClick:P,children:"Eliminar Grupo"})]})]})]})]}),Object(C.jsx)(J.a,{}),Object(C.jsx)(se,{isOpen:m,onClose:g,groupName:n,groupPoints:t,pointsDefined:c}),Object(C.jsx)(re,{isOpen:S,onClose:k,groupName:n})]}),Object(C.jsx)(l.a,{ml:2,children:b&&o&&b.cases.map((function(e){return Object(C.jsx)(_.a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{display:"inline-block"},children:Object(C.jsx)(ie,{caseName:e.name,groupName:e.group,pointsDefined:e.arePointsDefined,points:e.points,shouldShowPoints:"mainGroup"===n})},e.name+e.group)}))})]})}),le=function(){var e=T((function(e){return e.cases.cases}));return Object(C.jsx)(l.a,{mt:2,children:e.map((function(e){return Object(C.jsx)(je,{name:e.name,points:e.points,arePointsDefined:e.pointsDefined},e.name)}))})},be=function(){var e=Object(x.d)("gray.200","gray.600"),n=Object(D.a)(),t=n.isOpen,c=n.onOpen,s=n.onClose,r=Object(ae.useMediaPredicate)("(min-width: 830px)");return Object(C.jsx)(_.a.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},children:Object(C.jsx)(l.a,{w:"30%",h:"75vh",borderRight:"1px",borderColor:e,children:Object(C.jsxs)(l.a,{width:"90%",children:[Object(C.jsxs)(d.a,{align:"center",mb:4,children:[Object(C.jsx)(V.a,{mr:5,fontSize:"xl",fontWeight:"bold",children:"Grupos"}),Object(C.jsx)(O.a,{}),Object(C.jsx)(k.a,{size:"sm",colorScheme:"green",onClick:c,children:r?Object(C.jsx)("p",{children:" Agregar Caso"}):Object(C.jsx)("p",{children:" + "})}),Object(C.jsx)(Z,{isOpen:t,onClose:s,title:"Agregar Problema"})]}),Object(C.jsx)(J.a,{}),Object(C.jsx)(le,{})]})})})},de=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(b.a,{maxW:"container.lg",mt:3,h:"80vh",padding:"0",children:Object(C.jsxs)(q.e,{variant:"enclosed",size:"sm",isLazy:!0,children:[Object(C.jsxs)(q.b,{children:[Object(C.jsx)(q.a,{children:Object(C.jsxs)(y.a,{children:[Object(C.jsx)(A.a,{}),Object(C.jsx)("p",{children:"C\xf3digo Soluci\xf3n"})]})}),Object(C.jsx)(q.a,{children:Object(C.jsxs)(y.a,{children:[Object(C.jsx)(B.a,{}),Object(C.jsx)("p",{children:"Casos de Prueba"})]})}),Object(C.jsx)(q.a,{children:Object(C.jsxs)(y.a,{children:[Object(C.jsx)(I.a,{}),Object(C.jsx)("p",{children:"Redacci\xf3n"})]})})]}),Object(C.jsxs)(q.d,{children:[Object(C.jsx)(q.c,{children:"1"}),Object(C.jsx)(q.c,{children:Object(C.jsx)(be,{})}),Object(C.jsx)(q.c,{children:"3"})]})]})})})},ue=function(){var e=Object(j.f)();return Object(C.jsx)(o.a,{theme:i.theme,children:e?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(S,{}),Object(C.jsx)(W,{}),Object(C.jsx)(de,{})]}):Object(C.jsx)("h1",{children:" Loading "})})};a.a.render(Object(C.jsx)(s.StrictMode,{children:Object(C.jsxs)(j.a,{store:L,children:[Object(C.jsx)(c.a,{}),Object(C.jsx)(ue,{})]})}),document.getElementById("root"))}},[[153,1,2]]]);
//# sourceMappingURL=main.4dfb3ad1.chunk.js.map