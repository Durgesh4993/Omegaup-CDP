(this["webpackJsonpomegaup-problem-creator"]=this["webpackJsonpomegaup-problem-creator"]||[]).push([[0],{153:function(e,t,n){"use strict";n.r(t);var c=n(181),s=n(1),r=n(46),a=n.n(r),o=n(186),i=n(83),j=n(26),l=n(167),b=n(168),d=n(169),u=n(193),O=n(170),p=n(189),m=n(82),h=n(39),x=n(128),f=n(164),g=n(94),C=n(3),v=function(e){var t=Object(x.c)().toggleColorMode,n=Object(x.d)("dark","light"),c=Object(x.d)(g.a,g.b);return Object(C.jsx)(f.a,Object(h.a)({size:"md",fontSize:"lg",variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(C.jsx)(c,{}),"aria-label":"Switch to ".concat(n," mode")},e))},S=function(){return Object(C.jsx)(l.a,{boxShadow:"md",children:Object(C.jsx)(b.a,{maxW:"container.lg",children:Object(C.jsxs)(d.a,{align:"center",height:"38px",children:[Object(C.jsx)(l.a,{w:"86px",children:Object(C.jsx)(u.a,{w:"full",src:"https://omegaup.com/preguntas//omegaup_curves.png"})}),Object(C.jsx)(O.a,{}),Object(C.jsx)(l.a,{mr:5,children:Object(C.jsx)(v,{})}),Object(C.jsx)(l.a,{children:Object(C.jsx)(p.a,{label:"Colabora con nosotros en Github!","aria-label":"Colabora",children:Object(C.jsx)("span",{children:Object(C.jsx)(m.b,{size:25})})})})]})})})},N=n(5),D=n(171),P=n(190),y=n(185),k=n(126),w=n(174),E=n(45);function z(e){var t=100,n=0;e.forEach((function(e){"mainGroup"===e.name?e.cases.forEach((function(e){console.log(e),e.arePointsDefined?t-=e.points:n+=1})):e.pointsDefined?t-=e.points:n+=1})),console.log("group: "+n+" "+t);var c=t/n;return e.map((function(e){return"mainGroup"===e.name&&(e.cases=e.cases.map((function(e){return e.arePointsDefined||(e.points=c),e}))),e.pointsDefined||(e.points=c),e}))}var G,R={title:{titleName:"Nuevo Problema",setTitleName:Object(j.b)((function(e,t){e.titleName=t}))},cases:{cases:[{name:"mainGroup",points:0,isMain:!0,pointsDefined:!1,cases:[]}],availablePoints:100,addCase:Object(j.b)((function(e,t){var n=t.group,c=!1;e.cases.map((function(e){return e.name===n&&(e.cases.push(t),c=!0),e})),c||e.cases.push({name:n,points:0,isMain:!1,pointsDefined:!1,cases:[t]}),e.cases=z(e.cases)})),updateCase:Object(j.b)((function(e,t){e.cases.map((function(e){return e.name===t.oldName&&(e.name=t.newName,e.points=t.points,e.pointsDefined=t.pointsDefined,e.cases=e.cases.map((function(e){return e.group=t.newName,e}))),e})),e.cases=z(e.cases)})),removeCase:Object(j.b)((function(e,t){e.cases=e.cases.filter((function(e){return e.name!==t})),e.cases=z(e.cases)}))}},M=Object(j.c)(Object(j.e)(R)),L=Object(j.d)(),q=L.useStoreActions,A=(L.useStoreDispatch,L.useStoreState),F=function(){var e=A((function(e){return e.title.titleName})),t=q((function(e){return e.title.setTitleName})),n=Object(s.useState)(!1),c=Object(N.a)(n,2),r=c[0],a=c[1],o=Object(D.a)(),i=o.isOpen,j=o.onOpen,d=o.onClose,u=Object(s.useRef)(null);return Object(C.jsx)(b.a,{maxW:"container.lg",children:Object(C.jsx)(l.a,{mt:"5",children:Object(C.jsxs)(P.a,{children:[Object(C.jsxs)(y.a,{defaultValue:e,fontSize:"xl",fontWeight:"bold",placeholder:"Escribe el nombre del problema",onEdit:function(){return a(!0)},onSubmit:function(e){return n=e,a(!1),t(n),void console.log(n);var n},onCancel:function(){return a(!1)},width:r?"50%":void 0,children:[Object(C.jsx)(y.c,{}),Object(C.jsx)(y.b,{})]}),Object(C.jsx)("span",{children:Object(C.jsx)(m.a,{})}),Object(C.jsx)(O.a,{}),Object(C.jsx)(k.a,{size:"sm",children:" Cargar Problema "}),Object(C.jsx)(k.a,{size:"sm",colorScheme:"blue",children:"Guardar Problema"}),Object(C.jsx)(k.a,{size:"sm",colorScheme:"orange",onClick:j,children:"Nuevo Problema"}),Object(C.jsxs)(w.a,{leastDestructiveRef:u,onClose:d,isOpen:i,isCentered:!0,children:[Object(C.jsx)(E.g,{}),Object(C.jsxs)(w.b,{children:[Object(C.jsx)(E.f,{children:"Crear nuevo problema"}),Object(C.jsx)(E.b,{children:"\xbfDeseas crear un nuevo problema? Se borrar\xe1 TODO el problema anterior. Guarda el problema primero antes de crear uno nuevo."}),Object(C.jsxs)(E.e,{children:[Object(C.jsx)(k.a,{ref:u,onClick:d,children:"No"}),Object(C.jsx)(k.a,{colorScheme:"red",ml:3,onClick:function(){return sessionStorage.clear(),void window.location.reload()},children:"S\xed"})]})]})]})]})})})},W=n(197),T=n(121),B=n(123),I=n(122),V=n(180),J=n(179),_=n(182),H=n(184),K=n(69),Q=n(176),U=n(196),X=n(195),Y=n(88),Z=function(e){var t=e.isOpen,n=e.onClose,c=e.title,r=Object(s.useState)(!1),a=Object(N.a)(r,2),o=a[0],i=a[1],j=Object(s.useRef)(null),l=Object(Y.a)({defaultValues:{name:"",group:"",points:void 0}}),b=l.register,d=l.handleSubmit,u=l.formState.errors,O=Object(H.a)(),p=q((function(e){return e.cases.addCase})),m=A((function(e){return e.cases.cases}));return Object(C.jsxs)(E.a,{isOpen:t,onClose:n,children:[Object(C.jsx)(E.g,{}),Object(C.jsxs)(E.d,{children:[Object(C.jsx)(E.f,{children:c}),Object(C.jsx)(E.c,{}),Object(C.jsxs)("form",{onSubmit:d((function(e){var t=j.current;e.group=t?t.value:"",e.group=""===e.group?"mainGroup":e.group;var c=!1;m.forEach((function(t){t.name===e.group&&t.cases.forEach((function(t){t.name!==e.name||(c=!0)}))})),c?O({title:"Nombre repetido",description:"No puedes tener casos con el mismo nombre dentro de un grupo",status:"error"}):(console.log("points "+e.points),p({name:e.name,group:e.group,arePointsDefined:!!e.points,points:e.points?e.points:0}),O({title:"Caso creado",description:"El caso ha sido creado correctamente",status:"success"}),n())})),autoComplete:"off",children:[Object(C.jsxs)(E.b,{children:[Object(C.jsxs)(K.a,{isRequired:!0,children:[Object(C.jsx)(Q.a,{children:" Nombre del caso"}),Object(C.jsx)(U.a,Object(h.a)({},b("name",{required:!0})))]}),Object(C.jsxs)(K.a,{mt:4,children:[Object(C.jsx)(Q.a,{children:" Nombre del grupo"}),Object(C.jsx)(U.a,Object(h.a)(Object(h.a)({},b("group")),{},{onChange:function(e){""!==e.target.value?i(!0):i(!1)},ref:j}))]}),Object(C.jsxs)(K.a,{mt:4,isDisabled:o,children:[Object(C.jsx)(Q.a,{children:" Puntaje del caso (opcional)"}),Object(C.jsx)(U.a,Object(h.a)({type:"number"},b("points",{min:0,max:100}))),o&&Object(C.jsx)(K.b,{children:"No puedes asignar puntos individuales si el caso est\xe1 dentro de un grupo"}),u.points&&Object(C.jsxs)(X.a,{status:"error",mt:3,children:[Object(C.jsx)(X.c,{}),Object(C.jsx)(X.d,{mr:2,children:"Error"}),Object(C.jsx)(X.b,{children:"Ingresa un n\xfamero entre 0 y 100"})]})]})]}),Object(C.jsxs)(E.e,{children:[Object(C.jsx)(k.a,{variant:"ghost",mr:3,onClick:n,children:"Close"}),Object(C.jsx)(k.a,{colorScheme:"green",type:"submit",children:"Agregar Caso"})]})]})]})]})},$=n(116),ee=n(177),te=n(188),ne=n(117),ce=n(187),se=function(e){var t=e.isOpen,n=e.onClose,c=e.groupName,r=e.groupPoints,a=e.pointsDefined,o=Object(s.useState)(!a),i=Object(N.a)(o,2),j=i[0],l=i[1],b=Object(s.useRef)(null),d=A((function(e){return e.cases.cases})),u=q((function(e){return e.cases.updateCase})),O=Object(H.a)();var p=Object(Y.a)({defaultValues:{name:"".concat(c),points:"".concat(r)}}),m=p.register,x=p.handleSubmit;return Object(C.jsxs)(E.a,{isOpen:t,onClose:n,children:[Object(C.jsx)(E.g,{}),Object(C.jsxs)(E.d,{children:[Object(C.jsx)(E.f,{children:"Editar Grupo"}),Object(C.jsx)(E.c,{}),Object(C.jsxs)("form",{onSubmit:x((function(e){var t=b.current;e.points=t?parseInt(t.value):0;var s=!0;e.name!==c&&function(e){var t=!1;return d.forEach((function(n){n.name===e.name&&(t=!0)})),t}(e)&&(O({title:"Nombre repetido",description:"No puedes tener dos grupos con el mismo nombre",status:"error"}),s=!1),s&&(u({oldName:c,newName:e.name,points:e.points,pointsDefined:!j}),n())})),autoComplete:"off",children:[Object(C.jsxs)(E.b,{children:[Object(C.jsxs)(K.a,{isRequired:!0,children:[Object(C.jsx)(Q.a,{children:" Nombre del caso"}),Object(C.jsx)(U.a,Object(h.a)({},m("name")))]}),Object(C.jsxs)(K.a,{mt:4,isDisabled:j,children:[Object(C.jsx)(Q.a,{children:" Puntaje del grupo"}),Object(C.jsx)(U.a,Object(h.a)(Object(h.a)({type:"number"},m("points",{min:0,max:100})),{},{ref:b})),j&&Object(C.jsx)(K.b,{children:"El programa autom\xe1ticamente generar\xe1 los puntos."})]}),Object(C.jsxs)(ce.a,{mt:4,isChecked:j,onChange:function(e){return l(e.target.checked)},children:[" ","Puntaje Autom\xe1tico"," "]})]}),Object(C.jsxs)(E.e,{children:[Object(C.jsx)(k.a,{variant:"ghost",mr:3,onClick:n,children:"Close"}),Object(C.jsx)(k.a,{colorScheme:"green",type:"submit",children:"Editar Caso"})]})]})]})]})},re=function(e){var t=e.isOpen,n=e.onClose,c=e.groupName,s=q((function(e){return e.cases.removeCase})),r=Object(H.a)();return Object(C.jsxs)(E.a,{isOpen:t,onClose:n,children:[Object(C.jsx)(E.g,{}),Object(C.jsxs)(E.d,{children:[Object(C.jsx)(E.f,{children:"Borar Grupo"}),Object(C.jsx)(E.c,{}),Object(C.jsx)(E.b,{children:"\xbfEst\xe1s seguro que deseas borrar este grupo? Este cambio no se puede deshacer"}),Object(C.jsxs)(E.e,{children:[Object(C.jsx)(k.a,{variant:"ghost",mr:3,onClick:n,children:"Cerrar"}),Object(C.jsx)(k.a,{colorScheme:"red",type:"submit",onClick:function(){return s(c),r({title:"Grupo borrado",description:"El grupo ha sido borrado exitosamente",status:"success"}),void n()},children:"Borrar Grupo"})]})]})]})},ae=n(87),oe=n(118),ie=function(e){e.groupName;var t=e.caseName,n=e.pointsDefined,c=e.points,s=e.shouldShowPoints;return Object(C.jsx)(k.a,{variant:"ghost",size:"sm",children:Object(C.jsxs)(P.a,{children:[Object(C.jsx)("span",{children:t}),s&&Object(C.jsx)(ee.a,{colorScheme:n?"green":"blue",children:c+" PTS"})]})})},je=oe.a.div(G||(G=Object($.a)(["\n  //background-color: black;\n  position: absolute;\n  width: 20%;\n  height: 30px;\n"]))),le=function(e){var t=e.name,n=e.points,c=e.arePointsDefined,r=Object(s.useState)(!1),a=Object(N.a)(r,2),o=a[0],i=a[1],j=Object(x.d)("gray.200","gray.600"),b=A((function(e){return e.cases.cases.find((function(e){return e.name===t}))})),u=Object(D.a)(),m=u.isOpen,h=u.onOpen,g=u.onClose,v=Object(D.a)(),S=v.isOpen,y=v.onOpen,k=v.onClose,w=Object(ae.useMediaPredicate)("(min-width: 830px)");return Object(C.jsxs)(d.a,{direction:"column",children:[Object(C.jsxs)(l.a,{my:2,children:[Object(C.jsxs)(P.a,{mb:2,cursor:"pointer",transition:"padding-left 0.1s",_hover:{borderLeft:"2px",borderColor:"".concat(j),paddingLeft:"5px"},onClick:function(){return i(!o)},children:[Object(C.jsx)(l.a,{children:"mainGroup"===t?"Sin Grupo":t}),Object(C.jsx)(O.a,{}),"mainGroup"!==t&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(p.a,{label:"Estos ser\xe1n los puntos que obtendr\xe1 el usuario si resuelve correctamente el grupo",children:Object(C.jsx)(ee.a,{colorScheme:c?"green":"blue",size:"sm",children:w?Object(C.jsxs)("span",{children:[" ",parseFloat(""+n).toFixed(2)+" pts"]}):Object(C.jsxs)("span",{children:[Math.round(n)," "]})})}),Object(C.jsxs)(te.a,{isLazy:!0,children:[w?Object(C.jsx)(te.b,{as:f.a,icon:Object(C.jsx)(ne.a,{}),size:"sm"}):Object(C.jsx)(te.b,{as:je,size:"sm"}),Object(C.jsxs)(te.d,{children:[Object(C.jsx)(te.c,{fontSize:"sm",onClick:h,children:"Editar Grupo"}),Object(C.jsx)(te.c,{fontSize:"sm",onClick:y,children:"Eliminar Grupo"})]})]})]})]}),Object(C.jsx)(J.a,{}),Object(C.jsx)(se,{isOpen:m,onClose:g,groupName:t,groupPoints:n,pointsDefined:c}),Object(C.jsx)(re,{isOpen:S,onClose:k,groupName:t})]}),Object(C.jsx)(l.a,{ml:2,children:b&&o&&b.cases.map((function(e){return Object(C.jsx)(_.a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{display:"inline-block"},children:Object(C.jsx)(ie,{caseName:e.name,groupName:e.group,pointsDefined:e.arePointsDefined,points:e.points,shouldShowPoints:"mainGroup"===t})},e.name+e.group)}))})]})},be=function(){var e=A((function(e){return e.cases.cases}));return Object(C.jsx)(l.a,{mt:2,children:e.map((function(e){return Object(C.jsx)(le,{name:e.name,points:e.points,arePointsDefined:e.pointsDefined},e.name)}))})},de=function(){var e=Object(x.d)("gray.200","gray.600"),t=Object(D.a)(),n=t.isOpen,c=t.onOpen,s=t.onClose,r=Object(ae.useMediaPredicate)("(min-width: 830px)");return Object(C.jsx)(_.a.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},children:Object(C.jsx)(l.a,{w:"30%",h:"75vh",borderRight:"1px",borderColor:e,children:Object(C.jsxs)(l.a,{width:"90%",children:[Object(C.jsxs)(d.a,{align:"center",mb:4,children:[Object(C.jsx)(V.a,{mr:5,fontSize:"xl",fontWeight:"bold",children:"Grupos"}),Object(C.jsx)(O.a,{}),Object(C.jsx)(k.a,{size:"sm",colorScheme:"green",onClick:c,children:r?Object(C.jsx)("p",{children:" Agregar Caso"}):Object(C.jsx)("p",{children:" + "})}),Object(C.jsx)(Z,{isOpen:n,onClose:s,title:"Agregar Problema"})]}),Object(C.jsx)(J.a,{}),Object(C.jsx)(be,{})]})})})},ue=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(b.a,{maxW:"container.lg",mt:3,h:"80vh",padding:"0",children:Object(C.jsxs)(W.e,{variant:"enclosed",size:"sm",isLazy:!0,children:[Object(C.jsxs)(W.b,{children:[Object(C.jsx)(W.a,{children:Object(C.jsxs)(P.a,{children:[Object(C.jsx)(T.a,{}),Object(C.jsx)("p",{children:"C\xf3digo Soluci\xf3n"})]})}),Object(C.jsx)(W.a,{children:Object(C.jsxs)(P.a,{children:[Object(C.jsx)(I.a,{}),Object(C.jsx)("p",{children:"Casos de Prueba"})]})}),Object(C.jsx)(W.a,{children:Object(C.jsxs)(P.a,{children:[Object(C.jsx)(B.a,{}),Object(C.jsx)("p",{children:"Redacci\xf3n"})]})})]}),Object(C.jsxs)(W.d,{children:[Object(C.jsx)(W.c,{children:"1"}),Object(C.jsx)(W.c,{children:Object(C.jsx)(de,{})}),Object(C.jsx)(W.c,{children:"3"})]})]})})})},Oe=function(){var e=Object(j.f)();return Object(C.jsx)(o.a,{theme:i.theme,children:e?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(S,{}),Object(C.jsx)(F,{}),Object(C.jsx)(ue,{})]}):Object(C.jsx)("h1",{children:" Loading "})})};a.a.render(Object(C.jsx)(s.StrictMode,{children:Object(C.jsxs)(j.a,{store:M,children:[Object(C.jsx)(c.a,{}),Object(C.jsx)(Oe,{})]})}),document.getElementById("root"))}},[[153,1,2]]]);
//# sourceMappingURL=main.08db2a90.chunk.js.map