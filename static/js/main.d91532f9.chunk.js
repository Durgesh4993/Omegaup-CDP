(this["webpackJsonpomegaup-problem-creator"]=this["webpackJsonpomegaup-problem-creator"]||[]).push([[0],{146:function(e,t,n){"use strict";n.r(t);var c=n(175),s=n(1),r=n(46),a=n.n(r),o=n(180),i=n(81),j=n(16),l=n(161),u=n(162),b=n(163),d=n(187),O=n(164),m=n(183),p=n(80),h=n(21),x=n(121),f=n(158),g=n(91),C=n(2),v=function(e){var t=Object(x.c)().toggleColorMode,n=Object(x.d)("dark","light"),c=Object(x.d)(g.a,g.b);return Object(C.jsx)(f.a,Object(h.a)({size:"md",fontSize:"lg",variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(C.jsx)(c,{}),"aria-label":"Switch to ".concat(n," mode")},e))},N=function(){return Object(C.jsx)(l.a,{boxShadow:"md",children:Object(C.jsx)(u.a,{maxW:"container.lg",children:Object(C.jsxs)(b.a,{align:"center",height:"38px",children:[Object(C.jsx)(l.a,{w:"86px",children:Object(C.jsx)(d.a,{w:"full",src:"https://omegaup.com/preguntas//omegaup_curves.png"})}),Object(C.jsx)(O.a,{}),Object(C.jsx)(l.a,{mr:5,children:Object(C.jsx)(v,{})}),Object(C.jsx)(l.a,{children:Object(C.jsx)(m.a,{label:"Colabora con nosotros en Github!","aria-label":"Colabora",children:Object(C.jsx)("span",{children:Object(C.jsx)(p.b,{size:25})})})})]})})})},S=n(5),D=n(165),E=n(184),P=n(179),y=n(119),k=n(168),w=n(45);function z(e){var t=100,n=0;e.forEach((function(e){"mainGroup"===e.name?e.cases.forEach((function(e){console.log(e),e.arePointsDefined?t-=e.points:n+=1})):e.pointsDefined?t-=e.points:n+=1})),console.log("group: "+n+" "+t);var c=t/n;return e.map((function(e){return"mainGroup"===e.name&&(e.cases=e.cases.map((function(e){return e.arePointsDefined||(e.points=c),e}))),e.pointsDefined||(e.points=c),e}))}var G={title:{titleName:"Nuevo Problema",setTitleName:Object(j.b)((function(e,t){e.titleName=t}))},cases:{cases:[{name:"mainGroup",points:0,isMain:!0,pointsDefined:!1,cases:[]}],availablePoints:100,addCase:Object(j.b)((function(e,t){var n=t.group,c=!1;console.log("searching"),e.cases.map((function(e){return e.name===n&&(e.cases.push(t),c=!0,e.cases.sort((function(e,t){return e.name<t.name?-1:e.name===t.name?0:1}))),e})),c||e.cases.push({name:n,points:0,isMain:!1,pointsDefined:!1,cases:[t]}),e.cases=z(e.cases)})),updateCase:Object(j.b)((function(e,t){e.cases.map((function(e){return e.name===t.oldName&&(e.name=t.newName,e.points=t.points,e.pointsDefined=t.pointsDefined,e.cases=e.cases.map((function(e){return e.group=t.newName,e}))),e})),e.cases=z(e.cases),e.cases.sort()})),removeCase:Object(j.b)((function(e,t){e.cases=e.cases.filter((function(e){return e.name!==t})),e.cases=z(e.cases)}))},selected:{selected:null,solutionCode:!1,data:[],createCase:Object(j.b)((function(e,t){e.data.push(t)})),updateCase:Object(j.b)((function(e,t){e.data.map((function(e){return e.groupName===t.groupName&&e.caseName===t.caseName&&(e=t),e}))})),deleteGroup:Object(j.b)((function(e,t){e.data=e.data.filter((function(e){return e.groupName!==t}))})),deleteCase:Object(j.b)((function(e,t){e.data=e.data.filter((function(e){return e.groupName!==t.groupName&&e.caseName!==t.caseName}))})),setSelected:Object(j.b)((function(e,t){e.selected=t})),setSolutionCode:Object(j.b)((function(e,t){e.solutionCode=t}))}},R=Object(j.c)(Object(j.e)(G)),A=Object(j.d)(),F=A.useStoreActions,L=(A.useStoreDispatch,A.useStoreState),M=function(){var e=L((function(e){return e.title.titleName})),t=F((function(e){return e.title.setTitleName})),n=Object(s.useState)(!1),c=Object(S.a)(n,2),r=c[0],a=c[1],o=Object(D.a)(),i=o.isOpen,j=o.onOpen,b=o.onClose,d=Object(s.useRef)(null);return Object(C.jsx)(u.a,{maxW:"container.lg",children:Object(C.jsx)(l.a,{mt:"5",children:Object(C.jsxs)(E.a,{children:[Object(C.jsxs)(P.a,{defaultValue:e,fontSize:"xl",fontWeight:"bold",placeholder:"Escribe el nombre del problema",onEdit:function(){return a(!0)},onSubmit:function(e){return n=e,a(!1),t(n),void console.log(n);var n},onCancel:function(){return a(!1)},width:r?"50%":void 0,children:[Object(C.jsx)(P.c,{}),Object(C.jsx)(P.b,{})]}),Object(C.jsx)("span",{children:Object(C.jsx)(p.a,{})}),Object(C.jsx)(O.a,{}),Object(C.jsx)(y.a,{size:"sm",children:" Cargar Problema "}),Object(C.jsx)(y.a,{size:"sm",colorScheme:"blue",children:"Guardar Problema"}),Object(C.jsx)(y.a,{size:"sm",colorScheme:"orange",onClick:j,children:"Nuevo Problema"}),Object(C.jsxs)(k.a,{leastDestructiveRef:d,onClose:b,isOpen:i,isCentered:!0,children:[Object(C.jsx)(w.g,{}),Object(C.jsxs)(k.b,{children:[Object(C.jsx)(w.f,{children:"Crear nuevo problema"}),Object(C.jsx)(w.b,{children:"\xbfDeseas crear un nuevo problema? Se borrar\xe1 TODO el problema anterior. Guarda el problema primero antes de crear uno nuevo."}),Object(C.jsxs)(w.e,{children:[Object(C.jsx)(y.a,{ref:d,onClick:b,children:"No"}),Object(C.jsx)(y.a,{colorScheme:"red",ml:3,onClick:function(){return sessionStorage.clear(),void window.location.reload()},children:"S\xed"})]})]})]})]})})})},W=n(191),q=n(114),T=n(116),I=n(115),V=n(174),B=n(173),J=n(176),_=n(178),X=n(69),H=n(170),K=n(190),Q=n(189),U=n(62),Y=function(e){var t=e.isOpen,n=e.onClose,c=e.title,r=Object(s.useState)(!1),a=Object(S.a)(r,2),o=a[0],i=a[1],j=Object(s.useRef)(null),l=Object(U.a)({defaultValues:{name:"",group:"",points:void 0}}),u=l.register,b=l.handleSubmit,d=l.formState.errors,O=Object(_.a)(),m=F((function(e){return e.cases.addCase})),p=L((function(e){return e.cases.cases}));return Object(C.jsxs)(w.a,{isOpen:t,onClose:n,children:[Object(C.jsx)(w.g,{}),Object(C.jsxs)(w.d,{children:[Object(C.jsx)(w.f,{children:c}),Object(C.jsx)(w.c,{}),Object(C.jsxs)("form",{onSubmit:b((function(e){var t=j.current;e.group=t?t.value:"",e.group=""===e.group?"mainGroup":e.group;var c=!1;p.forEach((function(t){t.name===e.group&&t.cases.forEach((function(t){t.name!==e.name||(c=!0)}))})),c?O({title:"Nombre repetido",description:"No puedes tener casos con el mismo nombre dentro de un grupo",status:"error"}):(console.log("points "+e.points),m({name:e.name,group:e.group,arePointsDefined:!!e.points,points:e.points?parseFloat(e.points):0}),O({title:"Caso creado",description:"El caso ha sido creado correctamente",status:"success"}),n())})),autoComplete:"off",children:[Object(C.jsxs)(w.b,{children:[Object(C.jsxs)(X.a,{isRequired:!0,children:[Object(C.jsx)(H.a,{children:" Nombre del caso"}),Object(C.jsx)(K.a,Object(h.a)({},u("name",{required:!0})))]}),Object(C.jsxs)(X.a,{mt:4,children:[Object(C.jsx)(H.a,{children:" Nombre del grupo"}),Object(C.jsx)(K.a,Object(h.a)(Object(h.a)({},u("group")),{},{onChange:function(e){""!==e.target.value?i(!0):i(!1)},ref:j}))]}),Object(C.jsxs)(X.a,{mt:4,isDisabled:o,children:[Object(C.jsx)(H.a,{children:" Puntaje del caso (opcional)"}),Object(C.jsx)(K.a,Object(h.a)({type:"number"},u("points",{min:0,max:100}))),o&&Object(C.jsx)(X.b,{children:"No puedes asignar puntos individuales si el caso est\xe1 dentro de un grupo"}),d.points&&Object(C.jsxs)(Q.a,{status:"error",mt:3,children:[Object(C.jsx)(Q.c,{}),Object(C.jsx)(Q.d,{mr:2,children:"Error"}),Object(C.jsx)(Q.b,{children:"Ingresa un n\xfamero entre 0 y 100"})]})]})]}),Object(C.jsxs)(w.e,{children:[Object(C.jsx)(y.a,{variant:"ghost",mr:3,onClick:n,children:"Close"}),Object(C.jsx)(y.a,{colorScheme:"green",type:"submit",children:"Agregar Caso"})]})]})]})]})},Z=n(171),$=n(182),ee=n(113),te=n(181),ne=function(e){var t=e.isOpen,n=e.onClose,c=e.groupName,r=e.groupPoints,a=e.pointsDefined,o=Object(s.useState)(!a),i=Object(S.a)(o,2),j=i[0],l=i[1],u=Object(s.useRef)(null),b=L((function(e){return e.cases.cases})),d=F((function(e){return e.cases.updateCase})),O=Object(_.a)();var m=Object(U.a)({defaultValues:{name:"".concat(c),points:"".concat(r)}}),p=m.register,x=m.handleSubmit;return Object(C.jsxs)(w.a,{isOpen:t,onClose:n,children:[Object(C.jsx)(w.g,{}),Object(C.jsxs)(w.d,{children:[Object(C.jsx)(w.f,{children:"Editar Grupo"}),Object(C.jsx)(w.c,{}),Object(C.jsxs)("form",{onSubmit:x((function(e){var t=u.current;e.points=t?parseInt(t.value):0;var s=!0;e.name!==c&&function(e){var t=!1;return b.forEach((function(n){n.name===e.name&&(t=!0)})),t}(e)&&(O({title:"Nombre repetido",description:"No puedes tener dos grupos con el mismo nombre",status:"error"}),s=!1),s&&(d({oldName:c,newName:e.name,points:e.points,pointsDefined:!j}),n())})),autoComplete:"off",children:[Object(C.jsxs)(w.b,{children:[Object(C.jsxs)(X.a,{isRequired:!0,children:[Object(C.jsx)(H.a,{children:" Nombre del caso"}),Object(C.jsx)(K.a,Object(h.a)({},p("name")))]}),Object(C.jsxs)(X.a,{mt:4,isDisabled:j,children:[Object(C.jsx)(H.a,{children:" Puntaje del grupo"}),Object(C.jsx)(K.a,Object(h.a)(Object(h.a)({type:"number"},p("points",{min:0,max:100})),{},{ref:u})),j&&Object(C.jsx)(X.b,{children:"El programa autom\xe1ticamente generar\xe1 los puntos."})]}),Object(C.jsxs)(te.a,{mt:4,isChecked:j,onChange:function(e){return l(e.target.checked)},children:[" ","Puntaje Autom\xe1tico"," "]})]}),Object(C.jsxs)(w.e,{children:[Object(C.jsx)(y.a,{variant:"ghost",mr:3,onClick:n,children:"Close"}),Object(C.jsx)(y.a,{colorScheme:"green",type:"submit",children:"Editar Caso"})]})]})]})]})},ce=function(e){var t=e.isOpen,n=e.onClose,c=e.groupName,s=F((function(e){return e.cases.removeCase})),r=Object(_.a)();return Object(C.jsxs)(w.a,{isOpen:t,onClose:n,children:[Object(C.jsx)(w.g,{}),Object(C.jsxs)(w.d,{children:[Object(C.jsx)(w.f,{children:"Borar Grupo"}),Object(C.jsx)(w.c,{}),Object(C.jsx)(w.b,{children:"\xbfEst\xe1s seguro que deseas borrar este grupo? Este cambio no se puede deshacer"}),Object(C.jsxs)(w.e,{children:[Object(C.jsx)(y.a,{variant:"ghost",mr:3,onClick:n,children:"Cerrar"}),Object(C.jsx)(y.a,{colorScheme:"red",type:"submit",onClick:function(){return s(c),r({title:"Grupo borrado",description:"El grupo ha sido borrado exitosamente",status:"success"}),void n()},children:"Borrar Grupo"})]})]})]})},se=n(85),re=function(e){var t=e.groupName,n=e.caseName,c=e.pointsDefined,s=e.points,r=e.shouldShowPoints,a=L((function(e){return e.selected.data})),o=F((function(e){return e.selected.setSelected})),i=L((function(e){return e.selected.selected})),j=F((function(e){return e.selected.createCase}));function l(){(function(){var e=!1;return a.forEach((function(c){c.groupName!==t||c.caseName!==n||(e=!0)})),e})()||j({groupName:t,caseName:n,inputData:"",mode:"modern",outputData:""}),o({caseName:n,groupName:t})}return Object(C.jsx)(y.a,{variant:"ghost",size:"sm",onClick:function(){return l()},isActive:(null===i||void 0===i?void 0:i.caseName)===n&&i.groupName===t,children:Object(C.jsxs)(E.a,{children:[Object(C.jsx)("span",{children:n}),r&&Object(C.jsx)(Z.a,{colorScheme:c?"green":"blue",children:s.toFixed(2)+" PTS"})]})})},ae=function(e){var t=e.name,n=e.points,c=e.arePointsDefined,r=Object(s.useState)(!1),a=Object(S.a)(r,2),o=a[0],i=a[1],j=Object(x.d)("gray.200","gray.600"),u=L((function(e){return e.cases.cases.find((function(e){return e.name===t}))})),d=Object(D.a)(),p=d.isOpen,h=d.onOpen,g=d.onClose,v=Object(D.a)(),N=v.isOpen,P=v.onOpen,y=v.onClose,k=Object(se.useMediaPredicate)("(min-width: 830px)");return Object(C.jsxs)(b.a,{direction:"column",children:[Object(C.jsxs)(l.a,{my:2,children:[Object(C.jsxs)(E.a,{mb:2,cursor:"pointer",transition:"padding-left 0.1s",_hover:{borderLeft:"2px",borderColor:"".concat(j),paddingLeft:"5px"},onClick:function(e){return function(e){100*(e.pageX-e.currentTarget.offsetLeft)/e.currentTarget.clientWidth<80&&i(!o)}(e)},children:[Object(C.jsx)(l.a,{children:"mainGroup"===t?"Sin Grupo":t}),Object(C.jsx)(O.a,{}),"mainGroup"!==t&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(m.a,{label:"Estos ser\xe1n los puntos que obtendr\xe1 el usuario si resuelve correctamente el grupo",children:Object(C.jsx)(Z.a,{colorScheme:c?"green":"blue",size:"sm",children:k?Object(C.jsxs)("span",{children:[" ",parseFloat(""+n).toFixed(2)+" pts"]}):Object(C.jsxs)("span",{children:[Math.round(n)," "]})})}),Object(C.jsxs)($.a,{isLazy:!0,children:[Object(C.jsx)($.b,{as:f.a,icon:Object(C.jsx)(ee.a,{}),size:"sm",syle:{zIndex:99}}),Object(C.jsxs)($.d,{children:[Object(C.jsx)($.c,{fontSize:"sm",onClick:h,children:"Editar Grupo"}),Object(C.jsx)($.c,{fontSize:"sm",onClick:P,children:"Eliminar Grupo"})]})]})]})]}),Object(C.jsx)(B.a,{}),Object(C.jsx)(ne,{isOpen:p,onClose:g,groupName:t,groupPoints:n,pointsDefined:c}),Object(C.jsx)(ce,{isOpen:N,onClose:y,groupName:t})]}),Object(C.jsx)(l.a,{ml:2,children:u&&o&&u.cases.map((function(e){return Object(C.jsx)(J.a.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{display:"inline-block"},children:Object(C.jsx)(re,{caseName:e.name,groupName:e.group,pointsDefined:e.arePointsDefined,points:e.points,shouldShowPoints:"mainGroup"===t})},e.name+e.group)}))})]})},oe=function(){var e=L((function(e){return e.cases.cases}));return Object(C.jsx)(l.a,{mt:2,children:e.map((function(e){return Object(C.jsx)(ae,{name:e.name,points:e.points,arePointsDefined:e.pointsDefined},e.name)}))})},ie=function(){var e=Object(x.d)("gray.200","gray.600"),t=Object(D.a)(),n=t.isOpen,c=t.onOpen,s=t.onClose,r=Object(se.useMediaPredicate)("(min-width: 830px)");return Object(C.jsx)(J.a.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},children:Object(C.jsx)(l.a,{w:"100%",h:"75vh",borderRight:"1px",borderColor:e,children:Object(C.jsxs)(l.a,{width:"90%",children:[Object(C.jsxs)(b.a,{align:"center",mb:4,children:[Object(C.jsx)(V.a,{mr:5,fontSize:"xl",fontWeight:"bold",children:"Grupos"}),Object(C.jsx)(O.a,{}),Object(C.jsx)(y.a,{size:"sm",colorScheme:"green",onClick:c,children:r?Object(C.jsx)("p",{children:" Agregar Caso"}):Object(C.jsx)("p",{children:" + "})}),Object(C.jsx)(Y,{isOpen:n,onClose:s,title:"Agregar Problema"})]}),Object(C.jsx)(B.a,{}),Object(C.jsx)(oe,{})]})})})},je=function(e){var t=e.isOpen,n=e.onClose,c=e.caseName,r=e.groupName,a=e.casePoints,o=e.pointsDefined,i=Object(s.useState)(!1),j=Object(S.a)(i,2),l=j[0],u=j[1],b=Object(s.useState)(!o),d=Object(S.a)(b,2),O=d[0],m=d[1],p=Object(s.useRef)(null),x=L((function(e){return e.cases.cases})),f=F((function(e){return e.cases.updateCase})),g=Object(_.a)(),v=Object(U.a)({defaultValues:{name:"".concat(c),group:"".concat(r),points:"".concat(a)}}),N=v.register,D=v.handleSubmit,E=v.setValue;return Object(s.useEffect)((function(){E("name",c),E("group",r),E("points",a),u(""!==r)}),[t]),Object(C.jsxs)(w.a,{isOpen:t,onClose:n,children:[Object(C.jsx)(w.g,{}),Object(C.jsxs)(w.d,{children:[Object(C.jsx)(w.f,{children:"Editar Caso"}),Object(C.jsx)(w.c,{}),Object(C.jsxs)("form",{onSubmit:D((function(e){var t=p.current;e.points=t?parseInt(t.value):0;var c=!0;e.name!==r&&function(e){var t=!1;return x.forEach((function(n){n.name===e.name&&(t=!0)})),t}(e)&&(g({title:"Nombre repetido",description:"No puedes tener dos grupos con el mismo nombre",status:"error"}),c=!1),c&&(f({oldName:r,newName:e.name,points:e.points,pointsDefined:!O}),n())})),autoComplete:"off",children:[Object(C.jsxs)(w.b,{children:[Object(C.jsxs)(X.a,{isRequired:!0,children:[Object(C.jsx)(H.a,{children:" Nombre del caso"}),Object(C.jsx)(K.a,Object(h.a)({},N("name")))]}),Object(C.jsxs)(X.a,{mt:4,children:[Object(C.jsx)(H.a,{children:" Nombre del grupo"}),Object(C.jsx)(K.a,Object(h.a)(Object(h.a)({},N("group")),{},{onChange:function(e){""!==e.target.value?u(!0):u(!1)}}))]}),Object(C.jsxs)(X.a,{mt:4,isDisabled:O,children:[Object(C.jsx)(H.a,{children:" Puntaje del caso"}),Object(C.jsx)(K.a,Object(h.a)(Object(h.a)({type:"number"},N("points",{min:0,max:100})),{},{ref:p})),O&&Object(C.jsx)(X.b,{children:l?Object(C.jsx)("p",{children:"No puedes asignar puntos individuales si el caso est\xe1 dentro de un grupo"}):Object(C.jsx)("p",{children:"El programa autom\xe1ticamente generar\xe1 los puntos."})})]}),Object(C.jsxs)(te.a,{isDisabled:l,mt:4,isChecked:O,onChange:function(e){return m(e.target.checked)},children:[" ","Puntaje Autom\xe1tico"," "]})]}),Object(C.jsxs)(w.e,{children:[Object(C.jsx)(y.a,{variant:"ghost",mr:3,onClick:n,children:"Cerrar"}),Object(C.jsx)(y.a,{colorScheme:"green",type:"submit",children:"Editar Caso"})]})]})]})]})},le=function(){var e=Object(D.a)(),t=e.isOpen,n=e.onOpen,c=e.onClose,s=L((function(e){return e.selected.selected}));return Object(C.jsxs)(E.a,{h:"20%",w:"100%",pl:5,children:[Object(C.jsx)(V.a,{fontWeight:"bold",fontSize:20,children:null===s||void 0===s?void 0:s.caseName}),Object(C.jsxs)("h2",{children:[" ",null===s||void 0===s?void 0:s.groupName]}),Object(C.jsx)(O.a,{}),Object(C.jsxs)(y.a,{size:"sm",onClick:n,children:[" ","Editar Caso"," "]}),Object(C.jsx)(je,{isOpen:t,onClose:c,groupName:s?null===s||void 0===s?void 0:s.groupName:"",caseName:s?null===s||void 0===s?void 0:s.caseName:"",casePoints:1,pointsDefined:!1}),Object(C.jsx)(y.a,{size:"sm",children:" Eliminar Caso "})]})},ue=function(){return Object(C.jsx)(le,{})},be=function(){return Object(C.jsxs)(b.a,{children:[Object(C.jsx)(l.a,{w:"30%",children:Object(C.jsx)(ie,{})}),Object(C.jsx)(ue,{})]})},de=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(u.a,{maxW:"container.lg",mt:3,h:"80vh",padding:"0",children:Object(C.jsxs)(W.e,{variant:"enclosed",size:"sm",isLazy:!0,children:[Object(C.jsxs)(W.b,{children:[Object(C.jsx)(W.a,{children:Object(C.jsxs)(E.a,{children:[Object(C.jsx)(q.a,{}),Object(C.jsx)("p",{children:"C\xf3digo Soluci\xf3n"})]})}),Object(C.jsx)(W.a,{children:Object(C.jsxs)(E.a,{children:[Object(C.jsx)(I.a,{}),Object(C.jsx)("p",{children:"Casos de Prueba"})]})}),Object(C.jsx)(W.a,{children:Object(C.jsxs)(E.a,{children:[Object(C.jsx)(T.a,{}),Object(C.jsx)("p",{children:"Redacci\xf3n"})]})})]}),Object(C.jsxs)(W.d,{children:[Object(C.jsx)(W.c,{children:"1"}),Object(C.jsx)(W.c,{children:Object(C.jsx)(be,{})}),Object(C.jsx)(W.c,{children:"3"})]})]})})})},Oe=function(){var e=Object(j.f)();return Object(C.jsx)(o.a,{theme:i.theme,children:e?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N,{}),Object(C.jsx)(M,{}),Object(C.jsx)(de,{})]}):Object(C.jsx)("h1",{children:" Loading "})})};a.a.render(Object(C.jsx)(s.StrictMode,{children:Object(C.jsxs)(j.a,{store:R,children:[Object(C.jsx)(c.a,{}),Object(C.jsx)(Oe,{})]})}),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.d91532f9.chunk.js.map